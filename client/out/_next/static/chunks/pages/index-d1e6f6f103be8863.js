(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5728:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(9585)}])},2065:function(e,t,r){"use strict";var a=r(5893),n=r(4136),i=r.n(n);t.Z=function(){return(0,a.jsxs)("div",{className:i().spinner,children:["Loading",(0,a.jsx)("div",{className:i().primary}),(0,a.jsx)("div",{className:i().secondary})]})}},9585:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var a=r(5893),n=r(7568),i=r(655),s=r(1163),c=r(7294),d=r(9473),u=r(8858),o=r(619),l=r.n(o);var h=function(e){var t=e.text,r=e.number;return(0,a.jsx)("div",{className:l().card,children:(0,a.jsxs)("div",{className:l().stc,children:[(0,a.jsx)("p",{children:t}),(0,a.jsx)("h3",{children:r})]})})},f=r(7201),m=r.n(f),p=r(2065),_=r(5376),N=(r(9217),r(9669)),v=r.n(N),x=r(4364),w={},k=!0;function y(){var e=(0,c.useState)({}),t=e[0],r=e[1],o=(0,s.useRouter)(),l=(0,d.I0)(),f=(0,d.v9)((function(e){return e.auth})).user,N=function(){var e=(0,n.Z)((function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,v().get("http://localhost:5000/api/ticket/statistics")];case 1:return e=t.sent(),r(e.data),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){f&&N(),localStorage.getItem("user")||o.push("/login"),"string"!=typeof localStorage.getItem("user")||f||l((0,u.II)(JSON.parse(localStorage.getItem("user")))),k=!1}),[l,f,o]),k?(0,a.jsx)(p.Z,{}):(t.ticketsByMonths&&t.ticketsByMonths.length&&t.ticketsByMonths.map((function(e){w[e.month]=e.tickets})),(0,a.jsxs)("div",{className:m().container,children:[(0,a.jsx)("h3",{children:"Dashboard"}),(0,a.jsxs)("div",{className:m().statistics,children:[(0,a.jsx)(h,{text:"Total Tickets",number:t.totalTickets}),(0,a.jsx)(h,{text:"In Progress Tickets",number:t.pendingTickets}),(0,a.jsx)(h,{text:"Completed Tickets",number:t.completedTickets}),(0,a.jsx)(h,{text:"Not Started Tickets",number:t.notStartedTickets})]}),t.ticketsByMonths&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:m().chart,children:[(0,a.jsx)("h3",{children:"Opened Tickets This Year"}),(0,a.jsx)(_.$Q,{data:{labels:x.iL,datasets:[{label:"Total Ticket",data:x.iL.map((function(e){return w[e]})),backgroundColor:["#F2972E","#96427E","#7C53A5","#585BAD","#0E6A9B","#29B8D5","#F05142","#FDBB39","#F2972E","#BED454","#63C08B","#51BFAE"]}]}})]})})]}))}var g=function(){return(0,a.jsx)(y,{})}},4364:function(e,t,r){"use strict";r.d(t,{R4:function(){return n},Sf:function(){return i},iL:function(){return s}});var a=r(5089),n=[{field:"id",headerName:"ID",width:20},{field:"title",headerName:"Title",width:130},{field:"description",headerName:"Description",width:300},{field:"User",headerName:"Creator",width:80},{field:"urgent",headerName:"Urgent",width:70,valueFormatter:function(e){return e.value?"YES":"NO"}},{field:"status",headerName:"Status",width:120},{field:"category",headerName:"Category",width:120},{field:"solution",headerName:"Solution",width:180},{field:"createdAt",headerName:"Created At",type:"date",width:100,valueFormatter:function(e){return(0,a.Z)(new Date(e.value))}},{field:"updatedAt",headerName:"Updated At",type:"date",width:100,valueFormatter:function(e){return(0,a.Z)(new Date(e.value))}}],i=[{field:"id",headerName:"ID",width:100},{field:"fullName",headerName:"Full Name",width:130},{field:"email",headerName:"Email",width:230},{field:"role",headerName:"Role",width:100},{field:"createdAt",headerName:"Created At",type:"date",width:180,valueFormatter:function(e){return(0,a.Z)(new Date(e.value))}},{field:"updatedAt",headerName:"Updated At",type:"date",width:180,valueFormatter:function(e){return(0,a.Z)(new Date(e.value))}}],s=["January","February","March","April","May","June","July","August","September","October","November","December"]},7201:function(e){e.exports={container:"home_container__8DOkX",statistics:"home_statistics__QSTNY",chart:"home_chart__TfUa5"}},619:function(e){e.exports={card:"card_card__M4ETU",stc:"card_stc__87xAB"}},4136:function(e){e.exports={spinner:"spinner_spinner__fEcEZ","text-color":"spinner_text-color__4zX9q",rotate:"spinner_rotate__qewNB",primary:"spinner_primary__LI3fL",secondary:"spinner_secondary__XvO1n"}}},function(e){e.O(0,[757,89,985,774,888,179],(function(){return t=5728,e(e.s=t);var t}));var t=e.O();_N_E=t}]);