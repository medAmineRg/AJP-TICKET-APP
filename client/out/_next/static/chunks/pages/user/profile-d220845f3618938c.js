(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{1424:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/profile",function(){return n(8003)}])},9725:function(e,r,n){"use strict";var t=n(5893),s=n(2892),o=n.n(s);r.Z=function(e){var r=e.placeholder,n=e.onClick,s=e.color,l=e.bg,i=e.classN;return(0,t.jsx)("button",{style:{color:s,backgroundColor:l},onClick:n,className:i?o()[i]:o().btn,children:r})}},9501:function(e,r,n){"use strict";var t=n(5893),s=(n(7294),n(9725)),o=n(6591),l=n.n(o);r.Z=function(e){var r=e.open,n=e.children,o=e.onClose,i=e.submit,a=e.setRemove,c=e.z,u=e.isOwner,d=e.btnTxt,f=e.height;return r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{zIndex:c},className:l().overlay}),(0,t.jsxs)("div",{style:{zIndex:c,height:f},className:l().modal,children:[n,(0,t.jsxs)("div",{className:l()["footer-btn"],children:[a&&u&&(0,t.jsx)(s.Z,{bg:"#CC3636",onClick:function(){return a(!0)},placeholder:"Delete"}),(0,t.jsxs)("div",{className:l()["flex-end"],children:[(0,t.jsx)(s.Z,{bg:"gray",onClick:o,placeholder:"Exit"}),u&&(0,t.jsx)(s.Z,{onClick:i,placeholder:d||"submit"})]})]})]})]}):null}},2065:function(e,r,n){"use strict";var t=n(5893),s=n(4136),o=n.n(s);r.Z=function(){return(0,t.jsxs)("div",{className:o().spinner,children:["Loading",(0,t.jsx)("div",{className:o().primary}),(0,t.jsx)("div",{className:o().secondary})]})}},8003:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return Z}});var t=n(5893),s=n(7568),o=n(4924),l=n(6042),i=n(9396),a=n(655),c=n(760),u=n.n(c),d=n(9583),f=n(8193),m=n(9473),p=n(1163),_=n(8858),h=n(7294),x=n(9725),j=n(8895),v=n.n(j),g=n(2065);var N=function(e){var r=e.userInfo,n=(0,m.v9)((function(e){return e.auth})),s=n.user,o=n.isLoading,l=s.fullName,i=s.email,a=s.role;return o?(0,t.jsx)(g.Z,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{children:"User"}),(0,t.jsx)("hr",{className:v().hr}),(0,t.jsxs)("div",{className:v()["form-control"],children:[(0,t.jsx)("label",{children:"Fullname"}),(0,t.jsx)("input",{className:v().input,type:"text",onChange:r,placeholder:"Full Name",name:"fullName",defaultValue:l})]}),(0,t.jsxs)("div",{className:v()["form-control"],children:[(0,t.jsx)("label",{children:"Email"}),(0,t.jsx)("input",{onChange:r,className:v().input,name:"email",type:"email",placeholder:"Email",defaultValue:i})]}),(0,t.jsxs)("div",{className:v()["form-control"],children:[(0,t.jsx)("label",{children:"Password"}),(0,t.jsx)("input",{onChange:r,className:v().input,name:"password",type:"password",placeholder:"Password"})]}),(0,t.jsxs)("div",{className:v()["form-control"],children:[(0,t.jsx)("label",{children:"Role"}),(0,t.jsx)("select",{name:"role",className:v().input,onChange:r,defaultValue:a,disabled:!0,children:(0,t.jsx)("option",{value:"Admin",children:"Admin"})})]})]})},b=n(9501),y=n(2089),O=n(5678);var w=function(){var e=(0,h.useState)({}),r=e[0],n=e[1],c=(0,h.useState)(!1),j=c[0],v=c[1],w=(0,m.v9)((function(e){return e.auth})),Z=w.user,k=w.isLoading,C=(0,p.useRouter)(),I=(0,m.I0)();(0,h.useEffect)((function(){"object"!=typeof localStorage.getItem("user")&&localStorage.getItem("user")||C.replace("/login"),localStorage.getItem("user")&&!Z&&I((0,_.II)(JSON.parse(localStorage.getItem("user"))))}),[I,Z,C]);var E=function(){var e=(0,s.Z)((function(){var e,t;return(0,a.__generator)(this,(function(s){return e={},t={},I((0,y.Nq)((0,i.Z)((0,l.Z)(e,r),(t.id=Z.idUser,t)))).unwrap().then((function(e){var t=JSON.parse(localStorage.getItem("user"));r.email&&(t.email=r.email),r.fullName&&(t.fullName=r.fullName),localStorage.setItem("user",JSON.stringify(t)),O.Am.success("Updated successfully"),n({}),C.reload()})).catch((function(e){O.Am.error(e)})),[2]}))}));return function(){return e.apply(this,arguments)}}();return k?(0,t.jsx)(g.Z,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:u().container,children:(0,t.jsxs)("div",{className:u().profile,children:[(0,t.jsx)("div",{className:u().user,children:(0,t.jsx)(d.Xws,{})}),(0,t.jsxs)("div",{className:u().info,children:[(0,t.jsx)("h3",{children:Z&&Z.fullName}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Dme,{}),(0,t.jsx)("span",{style:{marginLeft:".1rem"},children:Z&&Z.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.VRY,{}),(0,t.jsx)("span",{style:{marginLeft:".1rem"},children:Z&&Z.role})]})]}),(0,t.jsx)(x.Z,{onClick:function(){return v(!0)},color:"white",placeholder:"Edit"})]})}),(0,t.jsx)(b.Z,{height:"65%",submit:E,open:j,onClose:function(){return v(!1)},isOwner:!0,children:(0,t.jsx)(N,{userInfo:function(e){n((function(r){return(0,i.Z)((0,l.Z)({},r),(0,o.Z)({},e.target.name,e.target.value))}))}})})]})};var Z=function(){return(0,t.jsx)(w,{})}},8895:function(e){e.exports={field:"ticket-form_field__dsiPZ",hr:"ticket-form_hr__0rXjM","form-control":"ticket-form_form-control__Td6_C",input:"ticket-form_input__J2v0t"}},2892:function(e){e.exports={btn:"button_btn__4KBe5",reverse:"button_reverse__Px7uH"}},6591:function(e){e.exports={modal:"modal_modal__kZrya",overlay:"modal_overlay__ayacu","footer-btn":"modal_footer-btn__rT9ML","flex-end":"modal_flex-end__fq18W"}},4136:function(e){e.exports={spinner:"spinner_spinner__fEcEZ","text-color":"spinner_text-color__4zX9q",rotate:"spinner_rotate__qewNB",primary:"spinner_primary__LI3fL",secondary:"spinner_secondary__XvO1n"}},760:function(e){e.exports={container:"profile_container__xJwHs",profile:"profile_profile__EIl9V",user:"profile_user__8o7ku",info:"profile_info__dVWoD"}},9396:function(e,r,n){"use strict";function t(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})),e}n.d(r,{Z:function(){return t}})}},function(e){e.O(0,[774,888,179],(function(){return r=1424,e(e.s=r);var r}));var r=e.O();_N_E=r}]);